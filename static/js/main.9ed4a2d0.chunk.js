(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{202:function(e,t,n){},251:function(e,t){},365:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(34),r=n.n(i),o=n(13),s=n(181),d=n(74),j=n.n(d),l=n(370),u=(n(202),n(203),n(204),n(105),n(16)),b=n.n(u);b.a.defaults.baseURL="https://greek-cooking-api.herokuapp.com/";var h,O,x,p,f=function(e){return{Authorization:"Bearer "+e}},g=function(e){var t="/logged",n=f(e);return console.log(t),b.a.get(t,{headers:n})},m=function(e,t){var n=new FormData;return n.append("username",e),n.append("password",t),b.a.post("/login",n,{headers:{"Content-Type":"multipart/form-data"}})},w=function(e,t){var n={start:e,end:t};return b.a.get("/recipes",{params:n})},v=function(e){var t="/users/".concat(e,"/favourites");return b.a.get(t)},y=function(e){var t="/users/".concat(e,"/recipes");return b.a.get(t)},k=function(e){var t="/recipes/".concat(e);return b.a.get(t)},S=n(5),C=n(11),I=n(12),W="white-space: pre-wrap; position: relative;",E="".concat("display: flex;"," flex-flow: row wrap;"),T=I.a.div(h||(h=Object(C.a)(["\n    text-align: center;\n    width: 100vw;\n    height: 100vh;\n    background-color: rgb(198, 247, 190);\n    padding-top: 10vh;\n"]))),L=I.a.div(O||(O=Object(C.a)(["\n    padding: 20px;\n    margin: auto;\n    width: 400px;\n    max-width: 100vw;\n    border: 1px solid grey;\n    border-radius: 8px;\n    color: black;\n"]))),B=I.a.h6(x||(x=Object(C.a)(["\n    color: red;\n    ","\n"])),W),R=I.a.h6(p||(p=Object(C.a)(["\n    color: green;\n    ","\n"])),W),N=n(372),F=n(367),A=n(368),U=n(75),D=n(57),M=n(375),_="/greek-cooking/#",P=n(1);var H=function(){var e=Object(c.useState)(""),t=Object(S.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(S.a)(i,2),o=r[0],s=r[1],d=Object(c.useState)(null),j=Object(S.a)(d,2),l=j[0],u=j[1],b=Object(c.useState)(null),h=Object(S.a)(b,2),O=h[0],x=h[1],p=Object(M.a)(["token"])[1];return Object(P.jsxs)(L,{children:[Object(P.jsx)("h3",{children:"Login"}),Object(P.jsx)(B,{children:l}),Object(P.jsx)(R,{children:O}),Object(P.jsxs)(N.a,{style:{margin:"20px 0px"},onSubmit:function(e){e.preventDefault(),m(n,o).then((function(e){p("token",e.data.access,{path:"/"}),x("Logged in successfully."),u(null),setTimeout((function(){window.location.href="".concat(_,"/")}),200)})).catch((function(){x(null),u("Invalid credentials.")}))},children:[Object(P.jsxs)(F.a,{className:"mb-3",controlId:"formBasicUsername",children:[Object(P.jsx)(F.a.Text,{children:Object(P.jsx)("img",{src:U.a,alt:"Username"})}),Object(P.jsx)(N.a.Control,{type:"text",placeholder:"Enter username...",value:n,onChange:function(e){a(e.target.value)}})]}),Object(P.jsxs)(F.a,{className:"mb-3",controlId:"formBasicPassword",children:[Object(P.jsx)(F.a.Text,{children:Object(P.jsx)("img",{src:D.a,alt:"Password"})}),Object(P.jsx)(N.a.Control,{type:"password",placeholder:"Enter password...",value:o,onChange:function(e){s(e.target.value)}})]}),Object(P.jsx)(A.a,{variant:"outline-dark",type:"submit",children:"Submit"})]}),Object(P.jsx)("h6",{children:"First time here?"}),Object(P.jsx)("a",{href:"".concat(_,"/register"),children:"Create an account"})]})},z=n(169);var G=function(){var e=Object(c.useState)(""),t=Object(S.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(S.a)(i,2),o=r[0],s=r[1],d=Object(c.useState)(""),j=Object(S.a)(d,2),l=j[0],u=j[1],h=Object(c.useState)(""),O=Object(S.a)(h,2),x=O[0],p=O[1],f=Object(c.useState)(null),g=Object(S.a)(f,2),w=g[0],v=g[1],y=Object(c.useState)(null),k=Object(S.a)(y,2),C=k[0],I=k[1],W=Object(M.a)(["token"])[1];return Object(P.jsxs)(L,{children:[Object(P.jsx)("h3",{children:"Register"}),Object(P.jsx)(R,{children:C}),Object(P.jsx)(B,{children:w}),Object(P.jsxs)(N.a,{style:{margin:"20px 0px"},onSubmit:function(e){e.preventDefault(),o&&n&&x?function(e,t,n,c){var a=new FormData;return a.append("username",e),a.append("password",t),a.append("confirmation",n),a.append("email",c),b.a.post("/users",a,{headers:{"Content-Type":"multipart/form-data"}})}(n,o,l,x).then((function(e){I("Account created successfully"),v(null),m(n,o).then((function(e){W("token",e.data.access,{path:"/"}),I("Logged in successfully."),v(null),setTimeout((function(){window.location.href="".concat(_,"/")}),200)})).catch((function(){v("But we could not get you inside.\nPlease try logging in.")}))})).catch((function(e){I(null),v(function(e){var t=[];return Object.entries(e).forEach((function(e){t.push(e[1])})),(t=t.flat()).map((function(e){return e.charAt(0).toUpperCase().concat(e.slice(1))})).join("\n")}(e.response.data))})):v("Fill all the fields.")},children:[Object(P.jsxs)(F.a,{className:"mb-3",controlId:"formBasicUsername",children:[Object(P.jsx)(F.a.Text,{children:Object(P.jsx)("img",{src:U.a,alt:"Username"})}),Object(P.jsx)(N.a.Control,{type:"text",placeholder:"Enter username...",value:n,onChange:function(e){a(e.target.value),o&&o===l&&v(null)}})]}),Object(P.jsxs)(F.a,{className:"mb-3",controlId:"formBasicEmail",children:[Object(P.jsx)(F.a.Text,{children:Object(P.jsx)("img",{src:z.a,alt:"Email"})}),Object(P.jsx)(N.a.Control,{type:"email",placeholder:"Enter email...",value:x,onChange:function(e){p(e.target.value),o&&o===l&&v(null)}})]}),Object(P.jsxs)(F.a,{className:"mb-3",controlId:"formBasicPassword",children:[Object(P.jsx)(F.a.Text,{children:Object(P.jsx)("img",{src:D.a,alt:"Password"})}),Object(P.jsx)(N.a.Control,{type:"password",placeholder:"Enter password...",value:o,onChange:function(e){s(e.target.value),l&&e.target.value!==l?(I(null),v("Passwords do not match.")):v(null)}})]}),Object(P.jsxs)(F.a,{className:"mb-3",controlId:"formBasicPassword",children:[Object(P.jsx)(F.a.Text,{children:Object(P.jsx)("img",{src:D.a,alt:"Confirmation"})}),Object(P.jsx)(N.a.Control,{type:"password",placeholder:"Repeat password...",value:l,onChange:function(e){u(e.target.value),o&&o!==e.target.value?(I(null),v("Passwords do not match.")):v(null)}})]}),Object(P.jsx)(A.a,{variant:"outline-dark",type:"submit",disabled:w,children:"Submit"})]}),Object(P.jsx)("h6",{children:"Already have an account?"}),Object(P.jsx)("a",{href:"".concat(_,"/login"),children:"Login"})]})};var J,Y,V,q,K,Q,X,Z,$,ee,te,ne,ce=function(e){var t=Object(M.a)(["token"])[0];return Object(c.useEffect)((function(){g(t.token).then((function(){window.location.href="".concat(_,"/")})).catch((function(){}))}),[]),Object(P.jsxs)(T,{children:[Object(P.jsx)("h1",{style:{margin:"20px"},children:"Greek cooking"}),e.login&&Object(P.jsx)(H,{}),e.register&&Object(P.jsx)(G,{})]})},ae=I.a.div(J||(J=Object(C.a)(["\n    ","\n    ","\n    min-width: 100vw;\n    min-height: 100vh;\n    background-color: rgb(198, 247, 190);\n    overflow-y: auto;\n    overflow-x: hidden;\n    text-align: center;\n"])),(function(e){return e.mobile&&"\n        padding-bottom: 70px;\n        padding-left: 0px;\n    "}),(function(e){return!e.mobile&&"\n        padding-left: 2px;\n        padding-bottom: 10px;\n    "})),ie=I.a.div(Y||(Y=Object(C.a)(["\n    padding: 5px;\n    margin: auto;\n    width: 300px;\n    overflow-x: auto;\n    font-size: 1.2rem;\n    text-align: center;\n"]))),re=I.a.div(V||(V=Object(C.a)(["\n    border: 1px solid grey;\n    padding: 5px;\n    padding-bottom: 50px;\n    border-radius: 7px;\n    margin: 10px auto;\n    background-color: white;\n    ","\n    ","\n    width: 800px;\n    max-width: 100vw;\n"])),W,E),oe=I.a.a(q||(q=Object(C.a)(["\n    border: none;\n    background-color: rgb(198, 247, 190, 0.5);\n    text-decoration: none;\n    color: black;\n    font-size: 1.2rem;\n    padding: 5px;\n    &:hover { \n        text-decoration: none;\n        cursor: pointer;\n    }\n"]))),se=I.a.div(K||(K=Object(C.a)(["\n    font-size: 0.9rem;\n    text-align: left;\n    width: 100%;\n"]))),de=I.a.div(Q||(Q=Object(C.a)(["\n    color: grey;\n    font-size: 0.9rem;\n    & a {\n        text-decoration: none;\n    }\n"]))),je=I.a.button(X||(X=Object(C.a)(["\n    ","\n    margin: 10px;\n    border: none;\n    background-color: inherit;\n"])),E),le=I.a.img(Z||(Z=Object(C.a)(["\n    width: 80%;\n    max-width: 700px;\n    height: auto;\n    border-radius: 7px;\n    margin: 10px 10%;\n"]))),ue=I.a.div($||($=Object(C.a)(["\n    flex-basis: 100%;\n    height: 0;\n"]))),be=I.a.img(ee||(ee=Object(C.a)(["\n    height: 20px;\n    margin-top: 2px;\n    margin-right: 2px;\n"]))),he=I.a.img(te||(te=Object(C.a)(["\n    font-size: 1rem;\n    margin: 3px;\n"]))),Oe=I.a.button(ne||(ne=Object(C.a)(["\n    border: none;\n    background-color: inherit;\n    position: absolute;\n    top: 5px;\n    right: 5px;\n    ","\n"])),E),xe=n(77),pe=n(170),fe=n(171),ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";d.store.addNotification({title:t,message:n,type:e,insert:"top",container:"bottom-right",animationIn:["animate__animated","animate__fadeIn"],animationOut:["animate__animated","animate__fadeOut"],dismiss:{duration:3e3,onScreen:!0}})},me=n(100),we=n.n(me);var ve=function(e){var t=Object(c.useState)(e.recipe),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(e.userId),o=Object(S.a)(r,2),s=o[0],d=o[1],j=Object(c.useState)(!1),l=Object(S.a)(j,2),u=l[0],h=l[1],O=Object(M.a)(["token"])[0];return Object(c.useEffect)((function(){i(e.recipe)}),[e.recipe]),Object(c.useEffect)((function(){d(e.userId)}),[e.userId]),Object(c.useEffect)((function(){if(a&&s&&!e.brief){var t=!1;a.fans.forEach((function(e){e.id===s&&(t=!0)})),h(t)}}),[a,s]),Object(P.jsxs)(re,{children:[Object(P.jsx)(oe,{href:"".concat(_,"/recipes/").concat(a.id),children:a.title}),s===e.recipe.owner.id&&!e.edit&&Object(P.jsxs)(Oe,{onClick:function(){window.location.href="".concat(_,"/recipes/").concat(a.id,"/edit")},children:[Object(P.jsx)(he,{src:fe.a,alt:"edit"}),Object(P.jsx)("div",{children:"Edit"})]}),Object(P.jsxs)(je,{onClick:function(){s?e.brief?ge("warning","Hello,","Visit the recipe's page to add it to your favourites."):u?function(e,t,n){var c="/users/".concat(t,"/favourites"),a=f(e),i={recipe_id:n};return b.a.delete(c,{headers:a,data:i})}(O.token,s,a.id).then((function(e){ge("warning","Hello,","Recipe removed from favourites successfully."),i(e.data)})).catch((function(){ge("danger","Sorry","We could not remove this recipe from your favourites.")})):function(e,t,n){var c="/users/".concat(t,"/favourites"),a=f(e);a["Content-Type"]="multipart/form-data";var i=new FormData;return i.append("recipe_id",n),b.a.post(c,i,{headers:a})}(O.token,s,a.id).then((function(e){ge("success","Hello,","Recipe added to favourites successfully."),i(e.data)})).catch((function(){ge("danger","Sorry","We could not add this recipe to your favourites.")})):ge("danger","Sorry","You have to login to add a recipe to your favourites.")},children:[Object(P.jsx)(be,{src:u?pe.a:xe.a,alt:"fans"}),Object(P.jsx)("div",{children:"number"===typeof a.fans?a.fans:a.fans.length})]}),Object(P.jsx)(ue,{}),Object(P.jsxs)(de,{children:["From ",Object(P.jsx)("a",{href:"".concat(_,"/users/").concat(a.owner.id),children:a.owner.username}),", on ",a.uploaded_at.slice(0,10)]}),Object(P.jsx)(ue,{}),a.image&&!e.brief&&Object(P.jsx)(le,{src:a.image,alt:a.title}),Object(P.jsx)(ue,{}),Object(P.jsx)("hr",{style:{margin:"4px",width:"100%"}}),Object(P.jsx)(ue,{}),!e.page&&Object(P.jsxs)(se,{children:[we()(a.description.slice(0,100)),Object(P.jsx)("i",{children:"and more details..."})]}),e.page&&Object(P.jsx)(se,{children:we()(a.description)}),Object(P.jsx)(ue,{}),!e.page&&Object(P.jsx)(A.a,{variant:"success",style:{marginTop:"10px",position:"absolute",right:"5px",bottom:"5px"},onClick:function(){return window.location.href="".concat(_,"/recipes/").concat(a.id)},children:"See details"})]})},ye=n(374),ke=n(373),Se=n(371),Ce=n(78),Ie=n(172),We=n(173),Ee=n(174),Te=n(175);var Le=function(e){var t=Object(c.useState)(e.userId),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(M.a)(["token"])[2],o=Object(c.useState)(!1),s=Object(S.a)(o,2),d=s[0],j=s[1];Object(c.useEffect)((function(){i(e.userId)}),[e.userId]);var l=function(e){a?window.location.href="profile"===e?"".concat(_,"/users/").concat(a):"".concat(_,"/").concat(e):ge("danger","Sorry","You have to login to have a '".concat(e," recipes' page."))};return Object(P.jsxs)(ye.a,{bg:"success",fixed:window.innerWidth>600?"top":"bottom",children:[window.innerWidth>600&&Object(P.jsx)(ye.a.Brand,{href:"".concat(_,"/"),children:"Greek Cooking"}),Object(P.jsx)(ye.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(P.jsxs)(ye.a.Collapse,{id:"basic-navbar-nav",children:[Object(P.jsxs)(ke.a,{className:"me-auto",style:{fontSize:"1.1rem",margin:window.innerWidth<=600?"auto":"0px"},children:[window.innerWidth<=600&&Object(P.jsx)(ke.a.Link,{href:"".concat(_,"/"),children:Object(P.jsx)("img",{src:Te.a,alt:"Home",style:{marginRight:window.innerWidth<=600?"0px":"2px",width:window.innerWidth<=600?"8vw":"auto"}})}),Object(P.jsxs)(ke.a.Link,{href:"".concat(_,"/search"),children:[Object(P.jsx)("img",{src:Ce.a,alt:window.innerWidth>600?"":"Search",style:{marginRight:window.innerWidth<=600?"0px":"2px",width:window.innerWidth<=600?"8vw":"auto"}}),window.innerWidth>600&&"Search"]}),Object(P.jsxs)(ke.a.Link,{onClick:function(){return l("favourites")},children:[Object(P.jsx)("img",{src:xe.a,alt:window.innerWidth>600?"":"Favourites",style:{marginRight:window.innerWidth<=600?"0px":"2px",width:window.innerWidth<=600?"8vw":"auto"}}),window.innerWidth>600&&"My Favourites"]}),window.innerWidth>600&&Object(P.jsxs)(ke.a.Link,{onClick:function(){return l("my")},children:[Object(P.jsx)("img",{src:Ie.a,alt:window.innerWidth>600?"":"My recipes",style:{marginRight:window.innerWidth<=600?"0px":"2px",width:window.innerWidth<=600?"8vw":"auto"}}),"My recipes"]}),Object(P.jsxs)(ke.a.Link,{onClick:function(){return l("upload")},children:[Object(P.jsx)("img",{src:Ee.a,alt:window.innerWidth>600?"":"Upload",style:{marginRight:window.innerWidth<=600?"0px":"2px",width:window.innerWidth<=600?"8vw":"auto"}}),window.innerWidth>600&&"Upload"]}),Object(P.jsxs)(ke.a.Link,{onClick:function(){return l("profile")},children:[Object(P.jsx)("img",{src:We.a,alt:window.innerWidth>600?"":"Profile",style:{marginRight:window.innerWidth<=600?"0px":"2px",width:window.innerWidth<=600?"8vw":"auto"}}),window.innerWidth>600&&"My profile"]})]}),window.innerWidth>600&&Object(P.jsxs)(ke.a,{children:[!a&&Object(P.jsx)(ke.a.Link,{href:"".concat(_,"/login"),children:"Login"}),a&&Object(P.jsx)(ke.a.Link,{onClick:function(){return j(!0)},children:"Logout"})]})]}),d&&Object(P.jsxs)(Se.a.Dialog,{style:{position:"fixed",width:"350px",top:"100px",left:"50vw",marginLeft:"-175px"},children:[Object(P.jsx)(Se.a.Header,{children:Object(P.jsx)(Se.a.Title,{children:"Logout"})}),Object(P.jsx)(Se.a.Body,{children:Object(P.jsx)("p",{children:"Are you sure you want to logout?"})}),Object(P.jsxs)(Se.a.Footer,{children:[Object(P.jsx)(A.a,{variant:"secondary",onClick:function(){return j(!1)},children:"No, don't logout"}),Object(P.jsx)(A.a,{variant:"primary",onClick:function(){r("token",{path:"/"}),setTimeout((function(){window.location.reload()}),200)},children:"Logout"})]})]})]})};var Be=function(e){var t=Object(c.useState)(e.userId),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(M.a)(["token"])[2],o=Object(c.useState)(!1),s=Object(S.a)(o,2),d=s[0],j=s[1];return Object(c.useEffect)((function(){i(e.userId)}),[e.userId]),Object(P.jsxs)(ye.a,{bg:"success",fixed:"top",children:[Object(P.jsx)(ye.a.Brand,{href:"".concat(_,"/"),children:"Greek Cooking"}),Object(P.jsx)(ye.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(P.jsxs)(ye.a.Collapse,{id:"basic-navbar-nav",children:[Object(P.jsx)(ke.a,{className:"me-auto"}),Object(P.jsxs)(ke.a,{children:[!a&&Object(P.jsx)(ke.a.Link,{href:"".concat(_,"/login"),children:"Login"}),a&&Object(P.jsx)(ke.a.Link,{onClick:function(){return j(!0)},children:"Logout"})]})]}),d&&Object(P.jsxs)(Se.a.Dialog,{style:{position:"fixed",width:"350px",top:"100px",left:"50vw",marginLeft:"-175px"},children:[Object(P.jsx)(Se.a.Header,{children:Object(P.jsx)(Se.a.Title,{children:"Logout"})}),Object(P.jsx)(Se.a.Body,{children:Object(P.jsx)("p",{children:"Are you sure you want to logout?"})}),Object(P.jsxs)(Se.a.Footer,{children:[Object(P.jsx)(A.a,{variant:"secondary",onClick:function(){return j(!1)},children:"No, don't logout"}),Object(P.jsx)(A.a,{variant:"primary",onClick:function(){r("token",{path:"/"}),setTimeout((function(){window.location.reload()}),200)},children:"Logout"})]})]})]})},Re=n(369);var Ne=function(){var e=Object(c.useState)(null),t=Object(S.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(null),r=Object(S.a)(i,2),o=r[0],s=r[1],d=Object(c.useState)([]),j=Object(S.a)(d,2),l=j[0],u=j[1],b=Object(M.a)(["token"])[0],h=Object(c.useState)(!1),O=Object(S.a)(h,2),x=O[0],p=O[1],f=Object(c.useState)(1),m=Object(S.a)(f,2),v=m[0],y=m[1];return Object(c.useEffect)((function(){g(b.token).then((function(e){a(e.data.id),s(e.data.username)})).catch((function(){}))}),[]),Object(c.useEffect)((function(){w(v,v+10).then((function(e){console.log(e),u(l.concat(e.data)),e.data.length||p(!0)})).catch((function(){p(!0)}))}),[v]),Object(P.jsxs)(ae,{mobile:window.innerWidth<=600,children:[Object(P.jsx)(Be,{userId:n,username:o}),Object(P.jsx)(Le,{userId:n,username:o}),Object(P.jsx)("div",{style:{marginTop:"70px"}}),Object(P.jsxs)("h2",{children:["Welcome ",o,", feeling hungry?"]}),Object(P.jsx)("h3",{children:"Check out our latest recipes"}),Object(P.jsx)("div",{children:l.map((function(e){return Object(P.jsx)(ve,{brief:!1,recipe:e,userId:n},e.id)}))}),!l.length&&!x&&Object(P.jsx)("div",{style:{textAlign:"center",margin:"20px"},children:Object(P.jsx)(Re.a,{animation:"border",role:"status",variant:"primary"})}),!l.length&&x&&Object(P.jsx)(B,{children:"No recipes found."}),0===l.length&&x&&Object(P.jsx)(B,{children:"No more recipes found."}),0!==l.length&&!x&&Object(P.jsx)(A.a,{variant:"primary",style:{width:"90%",marginLeft:"5%"},onClick:function(){return y(v+10)},children:"See more"})]})};var Fe=function(e){var t=Object(c.useState)(e.userId),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)([]),o=Object(S.a)(r,2),s=o[0],d=o[1],j=Object(c.useState)([]),l=Object(S.a)(j,2),u=l[0],b=l[1],h=Object(c.useState)(""),O=Object(S.a)(h,2),x=O[0],p=O[1];return Object(c.useEffect)((function(){!function(){var t=null,n=null;switch(e.case){case"All":t=w;break;case"Favourite":t=v,n=a;break;case"My":t=y,n=e.id||a}console.log(t),console.log(n),t(n).then((function(t){d(t.data),b(t.data),e.setRecipesNum&&e.setRecipesNum(t.data.length)})).catch((function(){}))}()}),[a]),Object(c.useEffect)((function(){i(e.userId)}),[e.userId]),Object(c.useEffect)((function(){if(x){var e=s.slice();b(e.filter((function(e){return e.title.toLowerCase().startsWith(x.toLowerCase())})))}else b(s.slice())}),[x]),Object(P.jsxs)("div",{style:{"text-align":"center"},children:[Object(P.jsxs)(N.a,{style:{margin:"10px auto",display:"flex",flexFlow:"row wrap",width:"350px"},onSubmit:function(e){e.preventDefault()},children:[Object(P.jsxs)(F.a,{className:"mb-3",controlId:"formBasicText",style:{width:"250px"},children:[Object(P.jsx)(F.a.Text,{children:Object(P.jsx)("img",{src:Ce.a,alt:"search"})}),Object(P.jsx)(N.a.Control,{type:"text",placeholder:"Search for a title...",value:x,onChange:function(e){e.preventDefault(),p(e.target.value)}})]}),Object(P.jsx)(A.a,{variant:"outline-dark",type:"submit",style:{marginTop:"-15px",marginLeft:"5px"},children:"Search"})]}),Object(P.jsxs)("div",{style:{"text-align":"center",marginTop:"-1rem"},children:[u.map((function(e){return Object(P.jsx)(ve,{brief:!1,recipe:e,userId:a},e.id)})),!u.length&&Object(P.jsx)(B,{children:"No matching recipes found."})]})]})};var Ae=function(e){var t=Object(c.useState)(null),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(null),o=Object(S.a)(r,2),s=o[0],d=o[1],j=Object(M.a)(["token"])[0];return Object(c.useEffect)((function(){g(j.token).then((function(e){i(e.data.id),d(e.data.username)})).catch((function(){"Favourite"!==e.case&&"My"!==e.case||(window.location.href="".concat(_,"/"))}))}),[]),Object(P.jsxs)(ae,{mobile:window.innerWidth<=600,children:[Object(P.jsx)(Be,{userId:a,username:s}),Object(P.jsx)(Le,{userId:a,username:s}),Object(P.jsx)("div",{style:{marginTop:"70px"}}),Object(P.jsxs)("h2",{children:[e.case," recipes"]}),Object(P.jsx)(Fe,{userId:a,username:s,case:e.case})]})};var Ue=function(e){var t=Object(c.useState)(null),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(null),o=Object(S.a)(r,2),s=o[0],d=o[1],j=Object(M.a)(["token"])[0],l=Object(c.useState)(null),u=Object(S.a)(l,2),h=u[0],O=u[1],x=Object(c.useState)(null),p=Object(S.a)(x,2),f=p[0],m=p[1],w=Object(c.useState)(0),v=Object(S.a)(w,2),y=v[0],k=v[1],C=parseInt(e.id),I=function(){(function(e){var t="/users/".concat(e);return b.a.get(t)})(C).then((function(e){O(e.data)})).catch((function(e){m("Sorry, we could not find this user.")}))};return Object(c.useEffect)((function(){g(j.token).then((function(e){i(e.data.id),d(e.data.username)})).catch((function(){"Favourite"!==e.case&&"My"!==e.case||(window.location.href="".concat(_,"/"))})),I()}),[]),Object(P.jsxs)(ae,{mobile:window.innerWidth<=600,children:[Object(P.jsx)(Be,{userId:a,username:s}),Object(P.jsx)(Le,{userId:a,username:s}),Object(P.jsx)("div",{style:{marginTop:"70px"}}),h&&Object(P.jsx)(ie,{children:Object(P.jsx)("h2",{children:h.username})}),Object(P.jsx)("h4",{children:h?"Recipes (".concat(y,")"):""}),h&&Object(P.jsx)(Fe,{userId:a,id:C,username:s,case:"My",setRecipesNum:k}),!h&&!f&&Object(P.jsx)("div",{style:{"text-align":"center",margin:"20px"},children:Object(P.jsx)(Re.a,{animation:"border",role:"status",variant:"primary"})}),!h&&f&&Object(P.jsx)(B,{children:"Sorry, we could not find this user."})]})};var De,Me,_e,Pe,He=function(e){var t=Object(c.useState)(null),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(null),o=Object(S.a)(r,2),s=o[0],d=o[1],j=Object(c.useState)(null),l=Object(S.a)(j,2),u=l[0],b=l[1],h=Object(M.a)(["token"])[0],O=Object(c.useState)(!1),x=Object(S.a)(O,2),p=x[0],f=x[1];return Object(c.useEffect)((function(){g(h.token).then((function(e){i(e.data.id),d(e.data.username)})).catch((function(){})),k(parseInt(e.id)).then((function(e){b(e.data),console.log(e.data)})).catch((function(){f(!0)}))}),[]),Object(P.jsxs)(ae,{mobile:window.innerWidth<=600,children:[Object(P.jsx)(Be,{userId:a,username:s}),Object(P.jsx)(Le,{userId:a,username:s}),Object(P.jsx)("div",{style:{marginTop:"70px"}}),u&&Object(P.jsx)(ve,{brief:!1,recipe:u,userId:a,page:!0},u.id),p&&Object(P.jsx)(B,{children:"Sorry, we could not find this recipe."}),!u&&!p&&Object(P.jsx)("div",{style:{"text-align":"center",margin:"20px"},children:Object(P.jsx)(Re.a,{animation:"border",role:"status",variant:"primary"})})]})},ze=I.a.div(De||(De=Object(C.a)(["\n    border: 1px solid black;\n    padding: 2px;\n    min-height: 400px;\n    margin: 10px 0px;\n"]))),Ge=I.a.div(Me||(Me=Object(C.a)(["\n    background-color: #e9ecef;\n    padding: 5px;\n    ","\n"])),(function(e){return!e.noBorder&&"\n        border-right: 1px solid lightgrey;\n    "})),Je=I.a.input(_e||(_e=Object(C.a)(["\n    padding: 2px;\n    margin-left: 5px;\n"]))),Ye=I.a.div(Pe||(Pe=Object(C.a)(["\n    border: 1px solid lightgrey;\n    border-radius: 4px;\n    ","\n    margin: 10px 0px;\n"])),E),Ve=n(177),qe=n(40),Ke=n(178),Qe=n.n(Ke),Xe=n(101),Ze=n.n(Xe),$e=(n(363),n(179));var et=function(e){var t=Object(c.useState)(e.edit?e.recipe.title:""),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)((function(){return qe.EditorState.createEmpty()})),o=Object(S.a)(r,2),s=o[0],d=o[1],j=Object(M.a)(["token"])[0],l=Object(c.useState)(!1),u=Object(S.a)(l,2),h=u[0],O=u[1],x=Object(c.useState)(!1),p=Object(S.a)(x,2),g=p[0],m=p[1];return Object(c.useEffect)((function(){if(e.edit){var t=Qe()(e.recipe.description),n=t.contentBlocks,c=t.entityMap,a=qe.ContentState.createFromBlockArray(n,c);d(qe.EditorState.createWithContent(a))}}),[e.recipe]),Object(c.useEffect)((function(){console.log(Ze()(Object(qe.convertToRaw)(s.getCurrentContent())).toString())}),[s]),Object(P.jsxs)(re,{children:[!h&&Object(P.jsxs)(N.a,{style:{margin:"20px auto",width:"90%",textAlign:"center"},onSubmit:function(t){if(t.preventDefault(),a){var n=document.getElementById("new-photo"),c=null;n.files.length&&(c=n.files[0]),O(!0),function(e,t,n,c,a){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],r="/recipes",o=f(e);o["Content-Type"]="multipart/form-data";var s=new FormData;return s.append("title",t),s.append("description",n),c&&s.append("image",c),i?b.a.put("".concat(r,"/").concat(a),s,{headers:o}):b.a.post(r,s,{headers:o})}(j.token,a,Ze()(Object(qe.convertToRaw)(s.getCurrentContent())),c,e.recipe?e.recipe.id:null,!0===e.edit).then((function(t){e.edit?ge("success","Thanks!!","Recipe was edited successfully."):ge("success","Thanks!!","Recipe was uploaded successfully."),setTimeout((function(){window.location.href="".concat(_,"/recipes/").concat(t.data.id)}),500)})).catch((function(){e.edit?ge("danger","Sorry","We could not edit your recipe."):ge("danger","Sorry","We could not upload your recipe."),O(!1)}))}else ge("danger","Sorry","Title cannot be empty.")},children:[Object(P.jsxs)(F.a,{className:"mb-3",controlId:"formBasicUsername",children:[Object(P.jsx)(F.a.Text,{children:Object(P.jsx)("img",{src:$e.a,alt:"title"})}),Object(P.jsx)(N.a.Control,{type:"text",placeholder:"Type your new recipe's title...",value:a,onChange:function(e){i(e.target.value)}})]}),Object(P.jsxs)(Ye,{children:[Object(P.jsx)(Ge,{children:"Upload an image"}),Object(P.jsx)(Je,{id:"new-photo",type:"file",accept:"image/*, video/*",onChange:function(){var e=[];e.push(document.getElementById("new-photo").files[0]),m(window.URL.createObjectURL(new Blob(e,{type:"file"})))}})]}),e.edit&&!g&&e.recipe.image&&Object(P.jsxs)("div",{children:[Object(P.jsx)("h5",{children:"Previous image"}),Object(P.jsx)(le,{src:e.recipe.image})]}),e.edit&&g&&Object(P.jsxs)("div",{children:[Object(P.jsx)("h5",{children:"Current image"}),Object(P.jsx)(le,{src:g})]}),Object(P.jsx)(Ge,{noBorder:!0,children:"And add some text (ingredients, steps, secret tips...)"}),Object(P.jsx)(ze,{children:Object(P.jsx)(Ve.Editor,{editorState:s,onEditorStateChange:d})}),Object(P.jsx)(A.a,{variant:"outline-dark",type:"submit",style:{margin:"auto",width:"50%"},children:"Submit"})]}),h&&Object(P.jsx)("div",{style:{textAlign:"center",margin:"20px auto"},children:Object(P.jsx)(Re.a,{animation:"border",role:"status",variant:"primary"})})]})};var tt=function(){var e=Object(c.useState)(null),t=Object(S.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(null),r=Object(S.a)(i,2),o=r[0],s=r[1],d=Object(M.a)(["token"])[0];return Object(c.useEffect)((function(){g(d.token).then((function(e){a(e.data.id),s(e.data.username)})).catch((function(){window.location.href="".concat(_,"/")}))}),[]),Object(P.jsxs)(ae,{mobile:window.innerWidth<=600,children:[Object(P.jsx)(Be,{userId:n,username:o}),Object(P.jsx)(Le,{userId:n,username:o}),Object(P.jsx)("div",{style:{marginTop:"70px"}}),o&&Object(P.jsxs)("h2",{children:["Hi ",o,", feeling creative?"]}),Object(P.jsx)(et,{userId:n})]})};var nt=function(e){var t=Object(c.useState)(null),n=Object(S.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(null),o=Object(S.a)(r,2),s=o[0],d=o[1],j=Object(c.useState)(null),l=Object(S.a)(j,2),u=l[0],b=l[1],h=Object(M.a)(["token"])[0],O=parseInt(e.id);return Object(c.useEffect)((function(){g(h.token).then((function(e){i(e.data.id),d(e.data.username)})).catch((function(){window.location.href="".concat(_,"/")}))}),[]),Object(c.useEffect)((function(){a&&k(O).then((function(e){e.data.owner.id===a?b(e.data):window.location.href="".concat(_,"/")})).catch((function(){window.location.href="".concat(_,"/")}))}),[a]),Object(P.jsxs)(ae,{mobile:window.innerWidth<=600,children:[Object(P.jsx)(Be,{userId:a,username:s}),Object(P.jsx)(Le,{userId:a,username:s}),Object(P.jsx)("div",{style:{marginTop:"70px"}}),u&&Object(P.jsxs)("h3",{children:["Hi ",s,", from here you can edit your recipe '",u.title,"'"]}),u&&Object(P.jsx)(et,{userId:a,edit:!0,recipe:u}),!u&&Object(P.jsx)("div",{style:{textAlign:"center",margin:"20px"},children:Object(P.jsx)(Re.a,{animation:"border",role:"status",variant:"primary"})})]})},ct=function(){var e=Object(o.f)().id;return Object(P.jsx)(Ue,{id:e})},at=function(e){var t=Object(o.f)().id;return e.edit?Object(P.jsx)(nt,{id:t}):Object(P.jsx)(He,{id:t})};r.a.render(Object(P.jsxs)(a.a.StrictMode,{children:[Object(P.jsx)(j.a,{}),Object(P.jsx)(l.a,{children:Object(P.jsx)(s.a,{basename:_,children:Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{path:"/login",exact:!0,children:Object(P.jsx)(ce,{login:!0})}),Object(P.jsx)(o.a,{path:"/register",exact:!0,children:Object(P.jsx)(ce,{register:!0})}),Object(P.jsx)(o.a,{path:"/search",exact:!0,children:Object(P.jsx)(Ae,{case:"All"})}),Object(P.jsx)(o.a,{path:"/favourites",exact:!0,children:Object(P.jsx)(Ae,{case:"Favourite"})}),Object(P.jsx)(o.a,{path:"/my",exact:!0,children:Object(P.jsx)(Ae,{case:"My"})}),Object(P.jsx)(o.a,{path:"/users/:id",exact:!0,children:Object(P.jsx)(ct,{})}),Object(P.jsx)(o.a,{path:"/recipes/:id",exact:!0,children:Object(P.jsx)(at,{})}),Object(P.jsx)(o.a,{path:"/recipes/:id/edit",exact:!0,children:Object(P.jsx)(at,{edit:!0})}),Object(P.jsx)(o.a,{path:"/upload",exact:!0,children:Object(P.jsx)(tt,{})}),Object(P.jsx)(o.a,{path:"/",exact:!0,children:Object(P.jsx)(Ne,{})})]})})})]}),document.getElementById("root"))}},[[365,1,2]]]);
//# sourceMappingURL=main.9ed4a2d0.chunk.js.map